<template>
  <v-container>
    <v-data-table
      :headers="headers"
      :items="users"
      :loading="loading"
      loading-text="Carregando dados..."
      class="elevation-1"
    >
    </v-data-table>
  </v-container>
</template>

<script setup lang="ts">
import { ref, onMounted } from 'vue'
import axios from 'axios'

interface User {
  id: number
  name: string
  username: string
  email: string
}

const users = ref<User[]>([])
const loading = ref(false)

const headers = [
  { text: 'ID', value: 'id' },
  { text: 'Nome', value: 'name' },
  { text: 'Username', value: 'username' },
  { text: 'Email', value: 'email' }
]

const fetchUsers = async () => {
  loading.value = true
  try {
    const response = await axios.get(
    'https://jsonplaceholder.typicode.com/users')
    users.value = response.data
  } catch (error) {
    console.error('Erro ao buscar dados da API:', error)
  } finally {
    loading.value = false
  }
}

onMounted(() => {
  fetchUsers()
})
</script>

<style scoped>
</style>



